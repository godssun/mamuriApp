# AGENT_WORKFLOWS.md

## 목표
1인 개발자가 **서브에이전트 + 에이전트 팀**을 효율적으로 운영할 수 있도록
프롬프트 템플릿, 호출 규칙, 혼합 운영 규칙을 정리한다.

---

## 1) 에이전트 팀용 프롬프트 템플릿

### 템플릿 A: 기능 설계 + 구현 + QA 병렬
```
에이전트 팀을 만들어줘.
역할: PM, Backend Dev, Frontend Dev, UX Planner, QA.
목표: "<기능/이슈>"를 MVP 범위로 설계하고, 구현 방향과 테스트까지 합의.

요구사항:
- PM: 명확한 범위/요구사항/수용 기준을 작성
- Backend Dev: API/DB 설계와 구현 단계 제안
- UX Planner: 화면 흐름/상태/카피 초안 작성
- Frontend Dev: 화면 구조/상태/컴포넌트 계획 제안
- QA: 핵심 테스트 매트릭스/리스크 작성

각자 결과는 항목별로 정리해 공유해줘.
```

### 템플릿 B: 복잡한 버그 디버깅 (가설 경쟁)
```
에이전트 팀을 만들어줘.
역할: Backend Debugger, Frontend Debugger, Infra/Network, QA.
문제: "<현상 설명>"

요구사항:
- 각자 독립 가설 1~2개 제시
- 로그/코드/환경 기준으로 검증 계획 제시
- 서로 가설을 반박할 근거도 같이 제시
```

### 템플릿 C: 릴리즈 검토 (리스크 중심)
```
에이전트 팀을 만들어줘.
역할: SRE, Backend Reviewer, Frontend Reviewer, QA.
목표: "<릴리즈 후보>"의 위험 요소와 릴리즈 체크리스트 작성.

요구사항:
- SRE: 운영/모니터링/롤백 체크
- Backend/Frontend Reviewer: 리스크/변경점 요약
- QA: 리그레션 체크리스트
```

---

## 2) 서브에이전트 호출 규칙

### 언제 서브에이전트를 쓰나
- 결과 요약만 필요할 때
- 특정 역할 관점의 **단일 리뷰**가 필요할 때
- 비용/속도를 우선할 때

### 추천 호출 기준
- **PM**: 요구사항이 흐릿할 때
- **Backend Reviewer**: API/DB/보안 체크
- **Frontend Reviewer**: 상태/성능/접근성 체크
- **UX Planner**: 화면 흐름/상태/카피 정리
- **QA**: 테스트 매트릭스/릴리즈 블로커

### 서브에이전트 호출 템플릿
```
<역할> 서브에이전트로 "<대상>"을 리뷰해줘.
포커스: <핵심 관점 2~3개>
출력은 지정된 포맷을 반드시 지켜줘.
```

---

## 3) 혼합 운영 규칙 (Subagent + Agent Team)

### 기본 원칙
- **일상 작업**: 서브에이전트 중심
- **복잡/대형 작업**: 에이전트 팀 사용
- **팀 생성 후**: 결과를 요약/정리하고, 실제 구현은 메인 세션에서 실행

### 전환 기준
- 모듈 2개 이상 교차 변경 → 팀 고려
- 버그 원인이 다층(프론트/백/인프라) → 팀 고려
- 기능 스펙이 불명확 → PM/UX 먼저 호출 후 팀 전환

---

## 4) “PM → Backend → UX → Frontend → QA” 파이프라인 운영 방법

### 목표
PM이 요구사항을 정의하고, UX가 UI 흐름/카피를 만들고,
백엔드가 API/DB를 구현하고, 프론트가 UI를 구현한 뒤,
QA가 검증하는 **순차 파이프라인**을 만든다.

### 단계별 운영 체크리스트

1) **PM 서브에이전트**
- 목표/범위/수용 기준 확정
- 비기능 요구사항(보안/성능) 정리
- 산출물: 요구사항 문서(간단)

2) **UX Planner 서브에이전트**
- 화면 리스트, 흐름, 상태(빈/로딩/에러)
- 카피(한국어 기준)
- 산출물: UI 프롬프트(제미나이/피그마용)

3) **Backend Dev (메인 세션)**
- API/DB 설계 → 구현
- PR 체크: 보안/검증/에러 처리

4) **Frontend Dev (메인 세션)**
- UX 산출물 기반 화면 구현
- API 연동 + 상태 처리

5) **QA 서브에이전트**
- 테스트 매트릭스/회귀 체크리스트
- 릴리즈 블로커 정리

### 에이전트 팀으로 확장하는 경우
- 위 단계 중 2개 이상이 병렬로 가능할 때
- 예: PM/UX/Backend 설계를 동시에 진행해야 할 때

---

## 5) 실제 운영 예시 (간단)

### 케이스: “일기 검색 기능”
1) PM 서브에이전트 → 요구사항/수용 기준
2) UX Planner 서브에이전트 → 검색 화면/카피
3) Backend Dev → 검색 API/인덱스 설계
4) Frontend Dev → 검색 UI + API 연동
5) QA 서브에이전트 → 테스트 매트릭스

---

## 6) 팀/서브에이전트 선택 요약
- **서브에이전트**: 빠른 리뷰/정리/검증
- **에이전트 팀**: 병렬 탐색/복합 문제
- **혼합**: 기본 서브에이전트, 필요 시 팀 확장

---

## 7) 사용 팁
- 결과가 길어지면 요약을 1단 추가 요청
- 팀 사용 시 **역할 충돌 방지**를 위해 파일/영역을 명확히 지정
